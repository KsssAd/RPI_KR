<div class="image-div-35vh"></div>

<div class="find-tour">
  <div class="main-div find-tour-card">
    <h5 class="ms-2">Подбор тура</h5>
    <div class="grid">
      <div class="row">
        <div class="col-md-6">
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Страна</label>
            </div>
            <div class="col-md-7 position-relative">
              <input [(ngModel)]="selectedCountry"
                     (focus)="isOpenDropDownCountries = true"
                     (focusout)="isOpenDropDownCountries = false"
                     type="text"
                     placeholder="Выберете страну"
                     readonly="true"
                     class="w-100" />
              <ul class="dropdown-list" [ngClass]="isOpenDropDownCountries ? 'dropdown-list-open' : ''">
                <li (click)="selectedCountry = country" *ngFor="let country of allCountries">
                  <label>{{country}}</label>
                </li>
              </ul>
            </div>
          </div>
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Период</label>
            </div>
            <div class="col-md-7">
              <label class="font-courier-new me-2">c</label><input [(ngModel)]="selectedDateFrom" type="date" />
              <label class="font-courier-new me-2">по</label><input [(ngModel)]="selectedDateTo" type="date" />
            </div>
          </div>
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Цена</label>
            </div>
            <div class="col-md-7">
              <input [(ngModel)]="selectedPriceFrom" type="number" />
              <label class="font-courier-new mx-2">-</label>
              <input [(ngModel)]="selectedPriceTo" type="number" />
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Длительность</label>
            </div>
            <div class="col-md-7 position-relative">
              <input [(ngModel)]="selectedDuration"
                     (focus)="isOpenDropDownDuration = true"
                     (focusout)="isOpenDropDownDuration = false"
                     type="text"
                     placeholder="Выберете длительность тура"
                     readonly="true"
                     class="w-100" />
              <ul class="dropdown-list" [ngClass]="isOpenDropDownDuration ? 'dropdown-list-open' : ''">
                <li (click)="selectedDuration = item" *ngFor="let item of allDuration">
                  <label>{{item}}</label>
                </li>
              </ul>
            </div>
          </div>
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Тип отдыха</label>
            </div>
            <div class="col-md-7 position-relative">
              <input [(ngModel)]="selectedTypeTour.name"
                     (focus)="isOpenDropDownTypeTour = true"
                     (focusout)="isOpenDropDownTypeTour = false"
                     type="text"
                     placeholder="Выберете тип отдыха"
                     readonly="true"
                     class="input"
                     class="w-100" />
              <ul class="dropdown-list" [ngClass]="isOpenDropDownTypeTour ? 'dropdown-list-open' : ''">
                <li (click)="selectedTypeTour = type" *ngFor="let type of allTourTypeName">
                  <label>{{type.name}}</label>
                </li>
              </ul>
            </div>
          </div>
          <div class="row my-2">
            <div class="col-md-5">
              <label class="font-courier-new">Популярный</label>
            </div>
            <div class="col-md-7">
              <input [(ngModel)]="selectedIsPopular" type="checkbox"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button (click)="findTour()" class="btn mt-3">Найти</button>
      <button *ngIf="isFiltered === true" (click)="reset()" class="btn mt-3">Сбросить</button>
    </div>
  </div>
</div>

<div class="main-div">
  <h2 class="text-center" style="color: seagreen">Туры</h2>
</div>

<div class="main-div tour-div">
  <div *ngFor="let tour of allTour" class="tour-card">
    <div class="tour-img">

    </div>
    <h5 class="text-center" style="color: seagreen">
      {{tour.name}}
      <i *ngIf="tour.isPopular == true" class="fa-solid fa-fire-flame-curved" style="color: indianred" title="Пользуется популярностью!"></i>
    </h5>
    <label class="text-block">{{tour.description}}</label>
  </div>
</div>
